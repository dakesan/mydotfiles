# 音声文字起こしから議事録を作成するガイド

このガイドは、音声文字起こしテキストから構造化された議事録を作成するための専用プロセスを定義します。

## このガイドを使用するタイミング

以下のトリガーがある場合、このガイドを読み込んで議事録を作成します：

- ユーザーが「音声文字起こしから議事録を作成」を明示的に依頼
- ユーザーが「gijiroku skillを使って」と指示
- 長い会話形式のテキストと既存の議事録メモの両方が提供された場合
- 音声認識AIの出力らしきテキスト（句読点が少ない、口語的）が提供された場合

## 議事録作成の3フェーズプロセス

### Phase 1: 音声認識の校正（最重要）

**目的**: 音声認識AIの誤認識を修正し、正確な固有名詞を使用する

**手順**:

1. **`speech_correction.yaml`を読み込む**
   - 必ず最初にこのファイルを参照
   - 位置: `.claude/skills/obsidian-note/guides/speech_correction.yaml`

2. **優先度順に修正**
   - Level 1: 会社名（Logomix） - 最優先
   - Level 2: 本人名（大嶽） - 必須
   - Level 3: 技術用語（SWING, CAS9など）
   - Level 4: その他の固有名詞

3. **文脈に基づく判断**
   - 「大竹さん」が一人称的に使われている → 「大嶽さん」に修正
   - 「ロボミックス」「ろぼみっくす」 → 常に「Logomix」
   - 技術用語の大文字/小文字に注意（SWING, CAS9, iPS）

4. **修正記録**
   - 重要な修正は内部的にメモ（ユーザーには見せない）
   - 不確実な修正があれば後で確認

**修正例**:

```
元: 「大竹さんがロボミックスの技術であるスイングを使って...」
↓
修正後: 「大嶽さんがLogomixの技術であるSWINGを使って...」
```

### Phase 2: 構造化と整理

**目的**: 音声文字起こしを読みやすい議事録フォーマットに変換

**手順**:

1. **話題のグルーピング**
   - 同じ話題の発言をまとめる
   - 主要なトピックを特定してH3見出しにする

2. **階層構造の作成**
   ```markdown
   ## 議事

   ### 1. [メイントピック]

   #### [サブトピック]
   - 詳細な議論内容
   - 決定事項

   **次のアクション**:
   - アクションアイテム
   ```

3. **冗長性の削除**
   - 繰り返しや言い直しを整理
   - 本質的な内容を保持
   - 「えー」「あの」などのフィラーを削除

4. **発言者の明示**
   - 重要な意見は発言者を明記
   - 例: 「矢口さん意見: ...」「Taikiさん:...」

5. **文脈の補足**
   - 音声だけでは分かりにくい部分に説明を追加
   - 括弧内に補足情報を記載
   - 例: 「プロジェクト2（ニューログリア細胞 S1/SI5）」

### Phase 3: 既存メモとの統合

**目的**: ユーザーが事前に書いたメモと音声文字起こしの情報を統合

**手順**:

1. **既存メモの内容を尊重**
   - 既存メモのポイントは必ず保持
   - 既存メモの構造を基本フレームワークとして使用

2. **音声から詳細を追加**
   - 既存メモの各ポイントを音声情報で拡充
   - 背景、理由、文脈を追加
   - 数字、日付、具体的な名前を補完

3. **矛盾の解決**
   - 既存メモと音声が矛盾する場合は音声を優先（より詳細）
   - ただし明らかに既存メモが正しい場合は既存メモを優先

4. **新規情報の追加**
   - 音声にあって既存メモにない話題は新しいセクションとして追加

5. **議事メモの作成**
   - 要点のみを箇条書きで簡潔にまとめる
   - 重要な発言を括弧書きで引用し、文脈を補完する

**統合例**:

```markdown
# 既存メモ
- Insitroのやつ
  - 成果物を渡すかどうか

# 音声から
（30分の詳細な議論）

# 統合後
### Insitroプロジェクトの提案内容詰め

**背景**:
- 矢口さんと詳細な打ち合わせを実施
- AI創薬プロジェクトだが、まずは純粋な細胞作成プロジェクトとしてスタート

**成果物の考え方**:
- 最終細胞とその解析データが先方の主要な納品物
- 中間体細胞の納品については打ち合わせ時に詰める
...（詳細な議論内容）
```

## フォーマット仕様

### フロントマター（YAML）

```yaml
---
cdate: YYYY-MM-DD
mdate: YYYY-MM-DD
tags: [meeting, meeting-type, content-tags...]
draft: false
meetingType: "bizdev|pl|udc|cmc|..."
meeting_scope: internal|external
author: Hiro
---
```

**重要**:
- `tags`: 必ず `tags.yaml` を参照して正しいタグを使用
- `meeting_scope`: 内部会議は`internal`、外部参加者がいる場合は`external`
- 既存メモにattendeesフィールドがあっても削除する（本文に記載）

### 本文構造

```markdown
# YYYYMMDD_meetingName

日時: YYYY-MM-DD

## 議事

### [トピック1]

- **[サブトピック]**: 要点を箇条書き
  - 重要な数字や決定事項を**太字**で強調
  - （発言者: 「重要な発言を括弧書きで引用」）

### [トピック2]

- **[サブトピック]**: 要点を箇条書き

## Tasks

### [カテゴリ1]
- [ ] タスク1（自分のタスクのみチェックボックス）
- [ ] タスク2

### [カテゴリ2]
- タスク3 - 担当: 他の人（自分以外はチェックボックスなし）
```

### 議事メモの作成ガイドライン

**目的**: 日常的に素早く参照できる、要点のみの議事メモ

**作成方法**:

1. **トピックの抽出**
   - 音声文字起こしから主要なトピックを特定
   - トピックごとにH3見出しでセクション分け

2. **要点の箇条書き**
   - 各トピックの重要なポイントを箇条書き
   - 1つのトピックにつき3-5個の要点
   - ネストは最大2階層まで

3. **強調と引用**
   - **太字**: 重要な数字、決定事項、キーワード
   - （発言者: 「重要な発言」）: 文脈を理解するための重要な発言を括弧書きで引用

4. **簡潔さの維持**
   - 1つの要点は1-2行以内
   - 必要最小限の文脈のみ記載
   - アクションアイテムは別途Tasksセクションに

**例**:

```markdown
### CDMO選定

- **Omnia Bio**: 監査に向けて調整中
  - 新見積もり：**1.7億円**
  - **12月4日に監査予定**（石倉さんも同行）
  - （森山さん: 「1日での監査が十分かどうかというのは検討が必要」）

- **Evotec**: 金額の問題から選択しない（**3.6億円**）
```

### 書式ルール

1. **見出し**
   - H1: ファイル名と同じ
   - H2: 大セクション（議事、Tasks）
   - H3: メイントピック
   - H4: サブトピック（必要に応じて）
   - 見出しに**太字を使わない**

2. **強調**
   - **太字**: 本文中の重要なポイント、数字、決定事項
   - ==ハイライト==: 非常に重要（控えめに使用）

3. **リスト**
   - 箇条書き: `-` を使用
   - チェックボックス: `- [ ]` を使用（自分のタスクのみ）

4. **テーブル**
   - 構造化データに使用（必要に応じて）
   - Markdown table記法

5. **発言引用**
   - 重要な発言: （発言者: 「発言内容」）の形式で括弧書き
   - 文脈理解を助けるために使用

## 品質チェックリスト

議事録作成後、以下を確認：

### 音声認識校正
- [ ] `speech_correction.yaml`を参照した
- [ ] 会社名が「Logomix」になっている（ロボミックス×）
- [ ] 本人名が「大嶽」になっている（大竹×）
- [ ] 技術用語の大文字小文字が正しい（SWING, CAS9, iPS）
- [ ] その他の固有名詞が修正されている

### フォーマット
- [ ] YAMLフロントマターが完全
- [ ] `tags.yaml`に従ったタグを使用
- [ ] `meeting_scope`が設定されている
- [ ] 日付が本文に記載されている（`日時: YYYY-MM-DD`）
- [ ] 見出しに太字を使っていない
- [ ] H2, H3, H4の階層が適切

### 内容
- [ ] 既存メモの全内容を保持
- [ ] 音声から重要な情報を追加
- [ ] 発言者を適切に明示（重要な発言は括弧書きで引用）
- [ ] 文脈が6ヶ月後でも理解できる
- [ ] 冗長性を削除し、本質を保持
- [ ] 決定事項が明確
- [ ] Tasksセクションに具体的なアクションアイテム
- [ ] 要点のみで素早くスキャン可能
- [ ] 重要な数字や決定事項を太字で強調

### 構造
- [ ] 話題ごとに適切にグルーピング
- [ ] 論理的な順序
- [ ] サブトピックが適切に分類
- [ ] Tasksがカテゴリ分けされている

## トラブルシューティング

### 問題: 固有名詞の判断がつかない

**対処**:
1. `speech_correction.yaml`を再確認
2. `tags.yaml`で会社名を確認
3. CLAUDE.mdの「Standard Names」を確認
4. 不明な場合は元の表記を保持し、`（要確認）`と注記

### 問題: 既存メモと音声の内容が異なる

**対処**:
1. 音声の方が詳細な場合 → 音声を優先
2. 既存メモが要約として正確な場合 → 両方を統合
3. 明らかな矛盾 → ユーザーに確認を求める

### 問題: 話題の切れ目が分からない

**対処**:
1. 音声の沈黙や話者の変化を手がかりにする
2. トピックの転換を示す言葉（「次に」「それから」「あと」）
3. 既存メモの構造をガイドにする

### 問題: 音声が長すぎてコンテキストに入らない

**対処**:
1. セクションごとに分割して処理
2. 既存メモを優先的に保持
3. 重要度の低い詳細は省略（本質を保持）

## ワークフロー例

```
STEP 0: TODOリストを作成（必須）
   ↓
1. ユーザーから音声文字起こしと既存メモを受領
   ↓
2. speech_correction.yamlを読み込む
   ↓
3. Phase 1: 音声認識を校正（TODO更新）
   - 会社名（Logomix）を最優先で修正
   - 本人名（大嶽）を修正
   - 技術用語を修正
   - その他固有名詞を修正
   ↓
4. Phase 2: 構造化（TODO更新）
   - 話題をグルーピング
   - 階層構造を作成
   - 冗長性を削除
   - 発言者を明示
   ↓
5. Phase 3: 既存メモと統合（TODO更新）
   - 既存メモの構造を基本フレームワークに
   - 音声から詳細を追加
   - 新規情報を追加
   ↓
6. フォーマット調整（TODO更新）
   - YAMLフロントマター作成
   - tags.yamlを参照してタグ付与
   - 見出し階層を調整
   ↓
7. 品質チェック（TODO更新）
   - チェックリストを確認
   ↓
8. ファイルに書き込み（TODO完了）
```

## TODOリスト管理（必須）

議事録作成作業を開始する**前に**、必ずTodoWriteツールでTODOリストを作成してください。

### 必須TODOリスト

```json
[
  {
    "content": "speech_correction.yamlを読み込み、音声認識誤りを修正する",
    "status": "pending",
    "activeForm": "音声認識誤りを修正中"
  },
  {
    "content": "音声文字起こしを構造化し、話題ごとにグルーピングする",
    "status": "pending",
    "activeForm": "音声を構造化中"
  },
  {
    "content": "既存メモと音声情報を統合し、議事メモを作成する",
    "status": "pending",
    "activeForm": "議事メモを作成中"
  },
  {
    "content": "YAMLフロントマターとタグを適用し、フォーマットを調整する",
    "status": "pending",
    "activeForm": "フォーマットを調整中"
  },
  {
    "content": "品質チェックリストで確認し、ファイルに書き込む",
    "status": "pending",
    "activeForm": "品質チェックと書き込み中"
  }
]
```

### TODO更新のタイミング

- **開始前**: 全TODOを`pending`で作成
- **各フェーズ開始時**: 該当TODOを`in_progress`に変更
- **各フェーズ完了時**: 該当TODOを`completed`に変更し、次のTODOを`in_progress`に
- **最終**: 全TODOが`completed`になったことを確認

### 重要な原則

1. **必ず最初にTODOリストを作成する**
2. **1つのTODOが常に`in_progress`状態を保つ**（0個や2個以上にしない）
3. **各フェーズ完了後すぐにTODOを更新する**（まとめて更新しない）
4. **TODOの`activeForm`は現在進行形で記述**

## 参照ファイル

議事録作成時に参照すべきファイル：

1. **必須**: `speech_correction.yaml` - 音声認識修正辞書
2. **必須**: `/Users/oodakemac/Documents/Hiro/tags.yaml` - タグ標準リスト
3. **推奨**: `documentation_standards.md` - ドキュメント標準
4. **推奨**: `foundations.md` - 基本原則

## 注意事項

1. **音声認識校正を最初に行う**
   - これを忘れると固有名詞が誤ったままになる
   - 特にLogomix、大嶽は最重要

2. **既存メモを尊重する**
   - ユーザーが書いたメモは重要な意図が含まれている
   - 削除せず、拡充する方針

3. **文脈を補足する**
   - 6ヶ月後に読んでも理解できるように
   - 音声だけでは分からない背景を追加

4. **コンパクトさと詳細さのバランス**
   - 冗長にならないよう本質を抽出
   - ただし重要な文脈は削除しない

5. **一貫性を保つ**
   - 同じ固有名詞は常に同じ表記
   - フォーマットを統一
